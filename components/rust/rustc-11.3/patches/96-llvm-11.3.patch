--- rustc-1.60.0-src/src/llvm-project/llvm/lib/Support/Unix/Path.inc~	2022-03-09 08:50:54.000000000 +0000
+++ rustc-1.60.0-src/src/llvm-project/llvm/lib/Support/Unix/Path.inc	2022-05-02 16:35:50.278125420 +0000
@@ -121,7 +121,8 @@
 #if defined(__sun__)
 // The madvise() declaration on Illumos cannot be made visible if _XOPEN_SOURCE
 // is defined. This declaration is also compatible with Solaris 11.4.
-extern "C" int madvise(void *, size_t, int);
+extern "C" int posix_madvise(void *, size_t, int);
+#define madvise(a,b,c) posix_madvise(a,b,c)
 #endif
 
 using namespace llvm;
--- rustc-1.60.0-src/src/llvm-project/llvm/CMakeLists.txt~	2022-05-02 17:38:27.424917237 +0000
+++ rustc-1.60.0-src/src/llvm-project/llvm/CMakeLists.txt	2022-05-02 17:38:47.033561745 +0000
@@ -615,7 +615,7 @@
 
 option(LLVM_BUILD_BENCHMARKS "Add LLVM benchmark targets to the list of default
 targets. If OFF, benchmarks still could be built using Benchmarks target." OFF)
-option(LLVM_INCLUDE_BENCHMARKS "Generate benchmark targets. If OFF, benchmarks can't be built." ON)
+option(LLVM_INCLUDE_BENCHMARKS "Generate benchmark targets. If OFF, benchmarks can't be built." OFF)
 
 option (LLVM_BUILD_DOCS "Build the llvm documentation." OFF)
 option (LLVM_INCLUDE_DOCS "Generate build targets for llvm documentation." ON)
