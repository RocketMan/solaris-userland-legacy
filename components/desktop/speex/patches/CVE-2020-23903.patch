Patch taken from https://github.com/xiph/speex/commit/870ff845b32f314aec0036641ffe18aba4916887

From 870ff845b32f314aec0036641ffe18aba4916887 Mon Sep 17 00:00:00 2001
From: Tristan Matthews <tmatth@videolan.org>
Date: Mon, 13 Jul 2020 23:25:03 -0400
Subject: [PATCH] wav_io: guard against invalid channel numbers

Fixes #13
---
 src/wav_io.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- speex-1.2rc1/src/wav_io.c	2023-01-16 21:12:31.689753558 -0800
+++ speex-1.2rc1/src/wav_io.c	2023-01-16 21:17:51.437122551 -0800
@@ -109,7 +109,7 @@
    stmp = le_short(stmp);
    *channels = stmp;
    
-   if (stmp>2)
+   if (stmp>2 || stmp<1)
    {
       fprintf (stderr, "Only mono and (intensity) stereo supported\n");
       return -1;
