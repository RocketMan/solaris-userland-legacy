--- a/js/src/util/NativeStack.cpp	2019-08-26 17:52:28.000000000 +0000
+++ b/js/src/util/NativeStack.cpp	2019-09-22 13:04:05.737896162 +0000
@@ -13,7 +13,7 @@
 #  if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__)
 #    include <pthread_np.h>
 #  endif
-#  if defined(SOLARIS) || defined(AIX)
+#  if defined(__sun__) || defined(AIX)
 #    include <ucontext.h>
 #  endif
 #  if defined(ANDROID) && !defined(__aarch64__)
@@ -40,7 +40,7 @@
   return static_cast<void*>(pTib->StackBase);
 }
 
-#elif defined(SOLARIS)
+#elif defined(__sun__)
 
 JS_STATIC_ASSERT(JS_STACK_GROWTH_DIRECTION < 0);
 
--- a/ipc/chromium/src/base/time_posix.cc	2018-10-17 21:39:28.000000000 +0000
+++ b/ipc/chromium/src/base/time_posix.cc	2018-12-09 22:21:52.733110689 +0000
@@ -24,6 +24,40 @@
 #include "base/basictypes.h"
 #include "base/logging.h"
 
+#ifdef __sun__
+
+extern "C" {
+  time_t timegm(struct tm *t)
+  {
+    time_t tl, tb;
+    struct tm *tg;
+
+    tl = mktime (t);
+    if (tl == -1)
+      {
+        t->tm_hour--;
+        tl = mktime (t);
+        if (tl == -1)
+          return -1; /* can't deal with output from strptime */
+        tl += 3600;
+      }
+    tg = gmtime (&tl);
+    tg->tm_isdst = 0;
+    tb = mktime (tg);
+    if (tb == -1)
+      {
+        tg->tm_hour--;
+        tb = mktime (tg);
+        if (tb == -1)
+          return -1; /* can't deal with output from gmtime */
+        tb += 3600;
+      }
+    return (tl - (tb - tl));
+  }
+}
+
+#endif
+
 namespace base {
 
 // The Time routines in this file use standard POSIX routines, or almost-
--- a/gfx/skia/skia/src/gpu/GrAutoLocaleSetter.h	2019-09-18 17:31:29.516459137 +0000
+++ b/gfx/skia/skia/src/gpu/GrAutoLocaleSetter.h	2019-09-18 17:32:31.427627202 +0000
@@ -27,7 +27,7 @@
 #define HAVE_XLOCALE 0
 #endif
 
-#if defined(SK_BUILD_FOR_ANDROID) || defined(__UCLIBC__) || defined(_NEWLIB_VERSION)
+#if defined(SK_BUILD_FOR_ANDROID) || defined(__UCLIBC__) || defined(_NEWLIB_VERSION) || defined(__sun__)
 #define HAVE_LOCALE_T 0
 #else
 #define HAVE_LOCALE_T 1
--- a/python/mozbuild/mozpack/files.py	2018-10-17 21:39:33.000000000 +0000
+++ b/python/mozbuild/mozpack/files.py	2018-12-07 19:04:10.487895055 +0000
@@ -290,8 +290,8 @@
                 os.path.getsize(self.path) > os.path.getsize(dest):
             return False
         try:
-            if may_strip(dest):
-                strip(dest)
+#            if may_strip(dest):
+#                strip(dest)
             if may_elfhack(dest):
                 elfhack(dest)
         except ErrorMessage:
--- a/js/xpconnect/src/XPCJSContext.cpp	2019-08-26 17:52:28.000000000 +0000
+++ b/js/xpconnect/src/XPCJSContext.cpp	2019-09-21 21:24:17.760300584 +0000
@@ -89,7 +89,7 @@
 #if !defined(PTHREAD_STACK_MIN)
 #  define PTHREAD_STACK_MIN 0
 #endif
-static constexpr size_t kWatchdogStackSize =
+static size_t kWatchdogStackSize =
     PTHREAD_STACK_MIN < 32 * 1024 ? 32 * 1024 : PTHREAD_STACK_MIN;
 
 static void WatchdogMain(void* arg);
--- a/build/autoconf/compiler-opts.m4	2019-08-26 17:52:19.000000000 +0000
+++ b/build/autoconf/compiler-opts.m4	2019-09-22 13:40:49.779338602 +0000
@@ -175,9 +175,9 @@
     fi
 fi
 
-if test "$GNU_CC$CLANG_CC"; then
-    MOZ_PROGRAM_LDFLAGS="$MOZ_PROGRAM_LDFLAGS -pie"
-fi
+dnl if test "$GNU_CC$CLANG_CC"; then
+dnl     MOZ_PROGRAM_LDFLAGS="$MOZ_PROGRAM_LDFLAGS -pie"
+dnl fi
 
 AC_SUBST(MOZ_PROGRAM_LDFLAGS)
 
