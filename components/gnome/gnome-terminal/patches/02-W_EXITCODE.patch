Patch taken from 
https://raw.githubusercontent.com/openembedded/meta-openembedded/master/meta-gnome/recipes-gnome/gnome-terminal/gnome-terminal/0001-Add-W_EXITCODE-macro-for-non-glibc-systems.patch

From f231cecc151930fd5b6309da317a8c5bc6001f38 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andreas=20M=C3=BCller?= <schnitzeltony@gmail.com>
Date: Sun, 17 Nov 2019 15:55:54 +0100
Subject: [PATCH] Add W_EXITCODE macro for non-glibc systems
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Upstream-Status: Pending

Signed-off-by: Andreas MÃ¼ller <schnitzeltony@gmail.com>

--- gnome-terminal-3.42.0/src/terminal.cc~	2021-09-22 17:38:05.782667600 +0000
+++ gnome-terminal-3.42.0/src/terminal.cc	2021-10-21 12:50:17.243412108 +0000
@@ -47,6 +47,12 @@
 GS_DEFINE_CLEANUP_FUNCTION0(TerminalOptions*, gs_local_options_free, terminal_options_free)
 #define gs_free_options __attribute__ ((cleanup(gs_local_options_free)))
 
+/* fix for musl */
+#ifndef W_EXITCODE
+#define W_EXITCODE(ret, sig) ((ret) << 8 | (sig))
+#endif
+
+
 /* Wait-for-exit helper */
 
 typedef struct {
