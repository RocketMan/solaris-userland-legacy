Fixes CVE-2020-35653.

Upstream commit:
https://github.com/python-pillow/Pillow/commit/2f409261eb1228e166868f8f0b5da5cda52e55bf

--- Pillow-5.1.0/src/PIL/PcxImagePlugin.py
+++ Pillow-5.1.0/src/PIL/PcxImagePlugin.py
@@ -63,9 +63,9 @@ class PcxImageFile(ImageFile.ImageFile):
         version = i8(s[1])
         bits = i8(s[3])
         planes = i8(s[65])
-        stride = i16(s, 66)
+        ignored_stride = i16(s, 66)
         logger.debug("PCX version %s, bits %s, planes %s, stride %s",
-                     version, bits, planes, stride)
+                     version, bits, planes, ignored_stride)
 
         self.info["dpi"] = i16(s, 12), i16(s, 14)
 
@@ -102,6 +102,11 @@ class PcxImageFile(ImageFile.ImageFile):
         self.mode = mode
         self.size = bbox[2]-bbox[0], bbox[3]-bbox[1]
 
+        # don't trust the passed in stride. Calculate for ourselves.
+        # CVE-2020-35655
+        stride = (self.size[0] * bits + 7) // 8
+        stride += stride % 2
+
         bbox = (0, 0) + self.size
         logger.debug("size: %sx%s", *self.size)
 
